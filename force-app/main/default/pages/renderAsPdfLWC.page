<apex:page controller="DisplayPDFController" applyHtmlTag="false" showHeader="false" cache="true" readOnly="true" applyBodyTag="false" renderas="PDF" standardStylesheets="false">
  <apex:styleSheet value="{!URLFOR($Resource.rte_tbl, '/rte_tbl1.css')}" />

  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <style type="text/css" media="print">
      {!styleList['P_Line_Height']}
        <apex:outputText rendered="{!if(isLandscape== false,true,false)}">
              {!styleList['Div Header Left Style']}
              {!styleList['Div Header Center Style']}
              {!styleList['Div Header Right Style']}
        </apex:outputText>
        <apex:outputText rendered="{!if(isLandscape== true,true,false)}">
              {!styleList['Div Header Left Style Landscape']}
              {!styleList['Div Header Center Style Landscape']}
              {!styleList['Div Header Right Style Landscape']}
        </apex:outputText>
      {!styleList['Div Footer Left Style']}
      {!styleList['Div Footer Center Style']}
      {!styleList['Div Footer Right Style']}
          
      .pagenumber:before {
        content: counter(page);
      }

      .pagecount:before {
        content: counter(pages);
      }
    
	table.page-break { page-break-inside:auto;page-break-before:always; }
    table.no-page-break { page-break-inside:auto;}
    
    table.newPagetableMainClass {page-break-before:always;}
    tr{ page-break-inside:avoid; page-break-after:auto; }
    <apex:outputText rendered="{!if(defaultCSS== true,true,false)}">
        @page {
        	 <apex:outputText rendered="{!if(isNoHeader == true,true,false)}">
            	size: {!selectedSize};
                margin-left: 0px;
                margin-right: 0px;
                margin-top: 0px;
                margin-bottom: 80px;  
        	</apex:outputText>
        	<apex:outputText rendered="{!if(isNoHeader == false,true,false)}">
                size: {!selectedSize};
                margin-left: 0px;
                margin-right: 0px;
                margin-top: 90px;
                margin-bottom: 80px;
        	</apex:outputText>
            <apex:outputText rendered="{!if(headersectionsCount== 1,true,false)}">
            	@top-left { content:element(header_left); width:100%;}
            </apex:outputText>
            <apex:outputText rendered="{!if(headersectionsCount== 2,true,false)}">
                @top-left { content:element(header_left);width:50%;}
                @top-right { content:element(header_center);width:50%;}
            </apex:outputText>
            <apex:outputText rendered="{!if(headersectionsCount== 3,true,false)}">
                @top-left { content:element(header_left);}
                @top-center { content:element(header_center);}
                @top-right { content:element(header_right);}
            </apex:outputText>
            
            <!--------Code for Footer------------>
            <apex:outputText rendered="{!if(footersectionsCount== 1,true,false)}">
            	@bottom-left { content:element(footer_left); width:100%; }
            </apex:outputText>
            <apex:outputText rendered="{!if(footersectionsCount== 2,true,false)}">
                @bottom-left { content:element(footer_left); width:50%;}
                @bottom-right { content:element(footer_center);width:50%; }
            </apex:outputText>
            <apex:outputText rendered="{!if(footersectionsCount== 3,true,false)}">
                @bottom-left { content:element(footer_left);}
                @bottom-center { content:element(footer_center);}
                @bottom-right { content:element(footer_right);}
            </apex:outputText>
        }
        
        </apex:outputText>
       
     <apex:outputText rendered="{!if(defaultCSS== false,true,false)}">
        <apex:outputText rendered="{!if(showAllPages== 'All Pages',true,false)}">
            @page {
                size: {!selectedSize};
                margin-left: 0px;
                margin-right: 0px;
                margin-top: 90px;
                margin-bottom: 80px;  
                background-image:url({!imageURL});
                background-repeat: no-repeat;
                background-origin: padding-box;
                background-size: 100px 100px;
                background-position: center;
            
                @top-left { content:element(header_left); }
                @top-center { content:element(header_center); }
                @top-right { content:element(header_right); }
                
                @bottom-left { content:element(footer_left); }
                @bottom-center { content:element(footer_center); }
                @bottom-right { content:element(footer_right); }
    
    
            }
        </apex:outputText>
       	<apex:outputText rendered="{!if(showAllPages== 'All Pages Except First Page',true,false)}">
            @page {
                size: {!selectedSize};
                margin-left: 0px;
                margin-right: 0px;
                margin-top: 90px;
                margin-bottom: 80px;  
                background-image:url({!imageURL});
                background-repeat: no-repeat;
                background-origin: padding-box;
                background-size: 100px 100px;
                background-position: center;
            
            	@top-left { content:element(header_left); }
                @top-center { content:element(header_center); }
                @top-right { content:element(header_right); }
                
                @bottom-left { content:element(footer_left); }
                @bottom-center { content:element(footer_center); }
                @bottom-right { content:element(footer_right); }
            }
            
            @page :first {
                size: {!selectedSize};
                margin-left: 0px;
                margin-right: 0px;
                margin-top: 90px;
                margin-bottom: 80px;  
                background-image:none;
                background-repeat: no-repeat;
                background-origin: padding-box;
                background-size: 100px 100px;
                background-position: center;
            
            	@top-left { content:element(header_left); }
                @top-center { content:element(header_center); }
                @top-right { content:element(header_right); }
                
                @bottom-left { content:element(footer_left); }
                @bottom-center { content:element(footer_center); }
                @bottom-right { content:element(footer_right); }
            }
        </apex:outputText>
        <apex:outputText rendered="{!if(showAllPages== 'Only First Page',true,false)}">
        @page {
                size: {!selectedSize};
                margin-left: 0px;
                margin-right: 0px;
                margin-top: 90px;
                margin-bottom: 80px;  
           
                background-image:none;
                background-repeat: no-repeat;
                background-origin: padding-box;
                background-size: 100px 100px;
                background-position: center;
            
            	@top-left { content:element(header_left); }
                @top-center { content:element(header_center); }
                @top-right { content:element(header_right); }
                
                @bottom-left { content:element(footer_left); }
                @bottom-center { content:element(footer_center); }
                @bottom-right { content:element(footer_right); }
            }
            
            @page :first {
                size: {!selectedSize};
                margin-left: 0px;
                margin-right: 0px;
                margin-top: 90px;
                margin-bottom: 80px;  
                background-image:url({!imageURL});
                background-repeat: no-repeat;
                background-origin: padding-box;
                background-size: 100px 100px;
                background-position: center;
            
            	@top-left { content:element(header_left); }
                @top-center { content:element(header_center); }
                @top-right { content:element(header_right); }
                
                @bottom-left { content:element(footer_left); }
                @bottom-center { content:element(footer_center); }
                @bottom-right { content:element(footer_right); }
            }
        </apex:outputText>
     </apex:outputText> 
        
    </style>

  </head>
	<apex:outputText rendered="{!if(headersectionsCount== 1,true,false)}">
        <div> AM I VISIBLE? - First</div>
  		<div class="header_left">
            <div> AM I VISIBLE? - Second </div>
            <div style="{!headerRelative}">
                <div> AM I VISIBLE? - Third </div>
                <div style="{!headerAbsolute}"> 
                    <div> AM I VISIBLE? - Fourth </div>
                    <apex:outputText value="{!leftheadertext}" escape="false" />
                </div>
            </div>
          </div>
    </apex:outputText>
    
    <apex:outputText rendered="{!if(headersectionsCount== 2,true,false)}">
        <div class="header_left">
			<div style="{!headerRelative}">
          <div style="{!headerAbsolute}">
            <apex:outputText value="{!leftheadertext}" escape="false" />
			</div>
			</div>
          </div>
        <div class="header_center">
		<div style="{!headerRelative}">
              <div style="{!headerAbsolute}">
			<apex:outputText value="{!centerheadertext}" escape="false" />
			</div>
			</div>
         </div>
    </apex:outputText>
    
    <apex:outputText rendered="{!if(headersectionsCount== 3,true,false)}">	
      <div class="header_left">
        <div style="{!headerRelative}">
          <div style="{!headerAbsolute}">
            <apex:outputText value="{!leftheadertext}" escape="false" />
          </div>
        </div>
      </div>
        <div class="header_center">
            <div style="{!headerRelative}">
              <div style="{!headerAbsolute}">
                <apex:outputText value="{!centerheadertext}" escape="false" />
			</div>
            </div>
          </div>
         <div class="header_right">
            <div style="{!headerRelative}">
              <div style="{!headerAbsolute}">
                <apex:outputText value="{!rightheadertext}" escape="false" />
              </div>
            </div>
          </div>
    </apex:outputText>
   
    <apex:outputText rendered="{!if(footersectionsCount== 1,true,false)}">
        <div class="footer_left">
            <div style="position:relative; width:100%; overflow:hidden;height: 70px;">
                <div style="position:absolute; width:100%; overflow:hidden;height: 70px;">
                    <apex:outputText value="{!leftfootertext}" escape="false" />
                     <apex:outputPanel rendered="{!displaypagesequence}" style="color:#999999;font-size:11px;position:absolute; right:20px; top:10px; font:Arial">
                        Page <span class="pagenumber"/> of <span class="pagecount"/>
                    </apex:outputPanel>
                </div>
            </div>
        </div>
    </apex:outputText>
    
    <apex:outputText rendered="{!if(footersectionsCount== 2,true,false)}">
    	<div class="footer_left">
            <div style="position:relative; width:100%; overflow:hidden;height: 70px;">
                <div style="position:absolute; width:100%; overflow:hidden;height: 70px;">
                    <apex:outputText value="{!leftfootertext}" escape="false" />
                </div>
            </div>
        </div>
        <div class="footer_center">
            <div style="position:relative; width:100%; overflow:hidden;height: 70px;">
                <div style="position:absolute; width:100%; overflow:hidden;height: 70px;">
                    <apex:outputText value="{!centerfootertext}" escape="false" />
                     <apex:outputPanel rendered="{!displaypagesequence}" style="color:#999999;font-size:11px;position:absolute; right:20px; top:10px; font:Arial">
                        Page <span class="pagenumber"/> of <span class="pagecount"/>
                    </apex:outputPanel>
                </div>
            </div>
        </div>  
    </apex:outputText>
    
    <apex:outputText rendered="{!if(footersectionsCount== 3,true,false)}"> 
    	<div class="footer_left">
            <div style="position:relative; width:100%; overflow:hidden;height: 70px;">
                <div style="position:absolute; width:100%; overflow:hidden;height: 70px;">
                    <apex:outputText value="{!leftfootertext}" escape="false" />
                </div>
            </div>
        </div>
        <div class="footer_center">
            <div style="position:relative; width:100%; overflow:hidden;height: 70px;">
                <div style="position:absolute; width:100%;overflow:hidden;height: 70px;">
                    <apex:outputText value="{!centerfootertext}" escape="false" />
                </div>
            </div>
        </div>  
          <div class="footer_right">
            <div style="position:relative; width:100%;overflow:hidden;height: 70px;">
                <apex:outputPanel >
                    <apex:outputText value="{!rightfootertext}" escape="false" />
                    <apex:outputPanel rendered="{!displaypagesequence}" style="color:#999999;font-size:11px;position:absolute; right:20px; top:10px; font:Arial">
                        Page <span class="pagenumber"/> of <span class="pagecount"/>
                    </apex:outputPanel>
                </apex:outputPanel>
            </div> 
        </div>
    </apex:outputText>

  <div class="content" style="padding-top:20px;padding-right:30px;padding-bottom:20px;padding-left:30px;">
    <div class="dxqt">
      <apex:outputText value="{!displayText}" escape="false" /> 
    </div>
  </div>
</apex:page>